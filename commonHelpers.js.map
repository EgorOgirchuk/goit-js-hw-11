{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesFromPixabay(query) {\n  const pixabayUrl = 'https://pixabay.com/api/';\n  const pixabayKey = '45258111-19b0afcb9384c7a2acd16a24f';\n  let params = new URLSearchParams({\n    key: pixabayKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(pixabayUrl + '?' + params, {\n    headers: {\n      Accept: 'application/json',\n    },\n  }).then(response => response.json());\n}\n","export function render(images) {\n  let renderHtml = '';\n  images.forEach(image => {\n    renderHtml += `\n  <li class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">  \n            <img style=\"width:360px\" \n            src=\"${image.webformatURL}\" \n            class=\"gallery-image\" \n            />\n      </a>\n      <div>\n      <span>Likes: ${image.likes}</span>\n      <span>Views: ${image.views}</span>\n      <span>Comments: ${image.comments}</span>\n      <span>Downloads: ${image.downloads}</span>\n      </div>\n  </li>\n\n  `;\n  });\n  return '<ul>' + renderHtml + '</ul>';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImagesFromPixabay } from './js/pixabay-api';\nimport { render } from './js/render-functions';\n\ndocument.querySelector('#search-form').addEventListener('submit', e => {\n  e.preventDefault();\n  document.querySelector('.loader').style.display = 'block';\n  let query = document.querySelector('.search').value;\n\n  getImagesFromPixabay(query).then(response => {\n    const images = response.hits;\n\n    document.querySelector('.loader').style.display = 'none';\n    if (images.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    let gallery = document.querySelector('.gallery');\n    document.querySelector('.search').value = '';\n\n    gallery.innerHTML = render(images);\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionDelay: 250,\n    });\n  });\n});\n"],"names":["getImagesFromPixabay","query","pixabayUrl","pixabayKey","params","response","render","images","renderHtml","image","e","iziToast","gallery","SimpleLightbox"],"mappings":"wvBAAO,SAASA,EAAqBC,EAAO,CAC1C,MAAMC,EAAa,2BACbC,EAAa,qCACnB,IAAIC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAMC,EAAa,IAAME,EAAQ,CACtC,QAAS,CACP,OAAQ,kBACT,CACF,CAAA,EAAE,KAAKC,GAAYA,EAAS,KAAM,CAAA,CACrC,CCfO,SAASC,EAAOC,EAAQ,CAC7B,IAAIC,EAAa,GACjB,OAAAD,EAAO,QAAQE,GAAS,CACtBD,GAAc;AAAA;AAAA,iBAEDC,EAAM,aAAa;AAAA;AAAA,mBAEjBA,EAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKhBA,EAAM,KAAK;AAAA,qBACXA,EAAM,KAAK;AAAA,wBACRA,EAAM,QAAQ;AAAA,yBACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKxC,CAAG,EACM,OAASD,EAAa,OAC/B,CCbA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAUE,GAAK,CACrEA,EAAE,eAAc,EAChB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClD,IAAIT,EAAQ,SAAS,cAAc,SAAS,EAAE,MAE9CD,EAAqBC,CAAK,EAAE,KAAKI,GAAY,CAC3C,MAAME,EAASF,EAAS,KAGxB,GADA,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAC9CE,EAAO,SAAW,EAAG,CACvBI,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CAED,IAAIC,EAAU,SAAS,cAAc,UAAU,EAC/C,SAAS,cAAc,SAAS,EAAE,MAAQ,GAE1CA,EAAQ,UAAYN,EAAOC,CAAM,EAEhB,IAAIM,EAAe,aAAc,CAChD,aAAc,GACpB,CAAK,CACL,CAAG,CACH,CAAC"}